---
import { Image } from "astro:assets";

interface Props {
  title: string;
  body: string;
  role: string;
  techStack?: string;
  href?: string;
  image?: string;
}

const { href, title, body, role, techStack, image } = Astro.props;
---

<a class="link-card" href={href} target="_blank">
  <div class="content">
    <span class="pill">Website</span>
    <!-- {image && <img src={image} alt={title} />}
    {!image && <div class="placeholder">private</div>} -->
    <div class="text-content">
      <h2>
        {title}
      </h2>
      <div class="body">
        <p class="rtf">
          {body}
        </p>
      </div>
      <div>
        <span class="role">{role}</span>
      </div>
    </div>
  </div>
</a>
<style>
  .pill {
    color: #777;
    position: absolute;
    inset-block-start: 10px;
    inset-inline-end: 10px;
    text-align: center;
    text-transform: lowercase;
    font-size: 14px;
    background: #f2f2f2;
    border-radius: 20px;
    padding: 5px 10px;
    transition: all 0.3s ease-in-out;
  }

  .tech-stack {
    display: block;
    font-size: 14px;
    margin-block-start: 10px;
    padding-block-start: 10px;
    border-block-start: 1px solid #888;
    color: #777;
    transition: all 0.3s ease-in-out;
  }

  .link-card {
    background: #f2f2f2;
    color: black;
    block-size: 100%;
    cursor: pointer;
    display: block;

    list-style: none;
    padding: 1px;
    position: relative;
    margin-block: 20px;
    border-radius: 1px;
    transition: all 0.75s ease-in-out;
    text-decoration: none;
  }

  img,
  .placeholder {
    border-radius: 6px 6px 0 0;
    aspect-ratio: 1200/900;
    display: inline-block;
    object-fit: cover;
    object-position: left top;
    inline-size: 100%;
    block-size: auto;
  }

  .placeholder {
    background: linear-gradient(135deg, #032eff 10%, #000 100%);
    color: #fff;
    display: grid;
    place-content: center;
    font-weight: 900;
  }

  .role {
    margin-block-start: 20px;
    font-weight: 600;
    color: #aaa;
    transition: all 0.3s ease-in-out;
  }

  .text-content {
    display: flex;
    flex-grow: 1;
    flex-direction: column;
    padding: 40px 20px 20px;
  }

  .content {
    block-size: 100%;
    display: flex;
    flex-direction: column;
    flex-grow: 1;
    position: relative;
    background: white;
    border-radius: 1px;
  }

  .body {
    flex-grow: 1;
  }

  h2 {
    font-size: 30px;
    font-weight: 900;
  }

  p {
    line-height: 1.3;
    margin-block-start: 10px;
  }

  .link-card:is(:hover, :focus-within) {
    .role {
      color: #333;
    }
    .pill {
      background: #333;
      color: white;
    }

    .tech-stack {
      color: #333;
    }
    background: #333;
  }
</style>
